<div class="container">

  <p-dialog header="Edit product" [(visible)]="visible" [style]="{width: '90vw'}">
  <app-edit-product-dialog [product]="selectedProduct" (closeParentDialogEvent)="closeDialog()"></app-edit-product-dialog>
  </p-dialog>
<div class="grid">
  <div class="col p-4 text-center">
    <h2>Filter references</h2>
    <app-product-filter (productFilterData)="getProductsData($event)"></app-product-filter>
  </div>
  <div class="col p-4 text-center">
    <h2>Add a new referece</h2>
    <p-button type="button" label="Add product"icon="pi pi-plus" (click)="editProduct(null)"></p-button>
  </div>

  <div class="col-12">
    <p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template pTemplate="header">
        <tr>
          <th>Reference</th>
          <th>Title</th>
          <th>Composition</th>
          <th>Prices</th>
          <th>Weight</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>{{ product.ref }}</td>
          <td>{{ product.title_en }}</td>
          <td>{{ product.comp_en }}</td>
          <td>{{ displayPrices(product.prices) }}</td>
          <td>{{ product.weight }}</td>
          <td>
            <div style="display: inline-flex">
            <button class="m-1" pButton type="button" icon="pi pi-pencil" (click)="editProduct(product)"></button>
            <button class="m-1" pButton type="button" icon="pi pi-trash" (click)="deleteProduct(product)"></button>
          </div>
          </td>
        </tr>
      </ng-template>
    </p-table>

  </div>
</div>
</div>